{% extends "base.html" %}

{% block title %}MedSync - Admin Dashboard{% endblock %}

<!-- Add Bootstrap Icons and Plotly.js in the head -->
{% block head %}
{{ super() }}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
{% endblock %}

{% block navbar %}
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand" href="#">MedSync Admin</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link position-relative" href="{{ url_for('admin_notif') }}">Notifications</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('admin_login') }}">Logout</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="row">
    <!-- User Login Activity Line Chart -->
    <div class="col-md-4">
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="card-title">User Login Activity</h5>
        </div>
        <div class="card-body">
            {{ login_activity_html | safe }}
        </div>
    </div>
    </div>

    <!-- Failed Login Attempts Bar Chart -->
    <div class="col-md-4">
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="card-title">Failed Login Attempts</h5>
        </div>
        <div class="card-body">
            {{ failed_logins_html | safe }}
        </div>
    </div>
    </div>

    <!-- Document Uploads and Downloads Area Chart -->
    <div class="col-md-4">
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="card-title">Document Uploads and Downloads</h5>
        </div>
        <div class="card-body">
            {{ document_activity_html | safe }}
        </div>
    </div>
    </div>
</div>
</div>
{% endblock %}
